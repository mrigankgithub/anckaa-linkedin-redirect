<!DOCTYPE html>
<html>
<head>
    <title>Anckaa Auth</title>
</head>
<body>
    <p>Please wait while we redirect you back to the app...</p>

    <script>
        // Get the full URL from the browser's address bar
        const url = window.location.href;
        
        // Use URLSearchParams to easily get the 'code' parameter
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code');

        if (code) {
            // âœ… This is the deep link URL that will open your app
            const deepLinkUrl = `anckaa://linkedin-auth?code=${code}`;
            alert(deepLinkUrl)
            // This is the command that triggers the app to open
            window.location.replace(deepLinkUrl);
        } else {
            // Handle cases where the code is not present (e.g., login was canceled or failed)
            const error = urlParams.get('error');
            console.error('LinkedIn authentication failed:', error);
            document.body.innerHTML = '<h1>Authentication Failed</h1><p>Please try logging in again.</p>';
        }
    </script>
</body>
</html>
