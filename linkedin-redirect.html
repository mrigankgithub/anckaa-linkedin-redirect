<!DOCTYPE html>
<html>
<head>
    <title>LinkedIn Redirect</title>
    <script type="text/javascript">
        // This script will run when the page loads
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            const state = urlParams.get('state'); // LinkedIn also sends a state parameter

            if (code) {
                // Construct your deep link to send the code back to your app
                const deepLinkUrl = `anckaa://linkedin-auth?code=${code}&state=${state}`;
                window.location.replace(deepLinkUrl); // Use replace to avoid history issues
            } else {
                // Handle errors if LinkedIn sends them back to this page
                const error = urlParams.get('error');
                const error_description = urlParams.get('error_description');
                const deepLinkUrl = `anckaa://linkedin-auth?error=${error}&error_description=${error_description}`;
                window.location.replace(deepLinkUrl);
            }
        };
    </script>
</head>
<body>
    <p>Redirecting you back to the Anckaa app...</p>
</body>
</html>
